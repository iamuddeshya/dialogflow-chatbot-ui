(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={chat:"Message_chat__3apUG",botImg:"Message_botImg__3AUtM",chatMessage:"Message_chatMessage__1kbKd",imageMessage:"Message_imageMessage__10Rmk",bot:"Message_bot__2M-xT",self:"Message_self__1Kmk-",container:"Message_container__1aLjG",dot:"Message_dot__1yObV",wave:"Message_wave__KTODa"}},function(e,t,a){e.exports={chatForm:"Form_chatForm__oGsDh",chatInput:"Form_chatInput___bDBy",chatFormButtons:"Form_chatFormButtons__GiBZK"}},function(e,t,a){e.exports={chatBoxHeader:"Header_chatBoxHeader__BwgVn",icons:"Header_icons__3PMeB",chatBotName:"Header_chatBotName__2E5aY"}},function(e,t,a){e.exports={suggestionContainer:"Suggestions_suggestionContainer__2fpto",suggestion:"Suggestions_suggestion__9_y5s"}},,function(e,t,a){e.exports={chatBoxContent:"Logs_chatBoxContent__Ua5_i",chatLogs:"Logs_chatLogs__2tZOD"}},,,function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__3zMDW"}},,,function(e,t,a){e.exports={chatBox:"Chat_chatBox__Hi-39"}},function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),s=(a(19),a(1)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(s.a)(t,2),o=a[0],c=a[1],r=function(){return c(!o)};return[o,r,c]},l=(a(6),function(e){var t=e.type,a=e.name,n=e.onClick;return o.a.createElement("i",{className:"".concat(t," ").concat(a),onClick:n})}),u=a(10),m=a.n(u);function g(e){var t=e.toggleChatBox;return o.a.createElement("div",{className:m.a.chatButton,onClick:t},o.a.createElement(l,{type:"fas",name:"fa-comments"}))}var h=a(11),p=a.n(h),f=a(4),d=a.n(f);function v(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return o.a.createElement("div",{className:d.a.chatBoxHeader},o.a.createElement("h4",{className:d.a.chatBotName},"Chat Bot"),o.a.createElement("div",{className:d.a.icons},o.a.createElement(l,{type:"fas",name:"fa-".concat(a?"volume-up":"volume-mute"),onClick:n}),o.a.createElement(l,{type:"fas",name:"fa-minus",onClick:t})))}var _=a(2),b=a.n(_),E=Object(n.memo)((function(e){var t=e.text,a=void 0===t?"":t,n=e.image,c=e.variant,r=e.typingIndicator,s=b.a.chat,i=b.a.bot,l=b.a.self,u=b.a.botImg,m=b.a.chatMessage,g=b.a.imageMessage;return o.a.createElement("div",{className:"".concat(s," ").concat("bot"===c?i:l)},"bot"===c&&o.a.createElement("div",{className:u},o.a.createElement("img",{src:"https://i.ibb.co/cDCL67q/bot.png",alt:"bot"})),r&&o.a.createElement("div",{className:b.a.container},o.a.createElement("span",{className:b.a.dot}),o.a.createElement("span",{className:b.a.dot}),o.a.createElement("span",{className:b.a.dot})),a&&o.a.createElement("p",{className:m},a),n&&o.a.createElement("img",{className:g,src:n}))})),y=a(7),B=a.n(y);function x(e){var t=e.messages,a=e.typingIndicator,c=Object(n.useRef)();return Object(n.useEffect)((function(){return c.current.scrollIntoView({behavior:"smooth"})})),o.a.createElement("div",{className:B.a.chatBoxContent},o.a.createElement("div",{className:B.a.chatLogs},t.map((function(e,t){var a=e.text,n=e.variant,c=e.image;return o.a.createElement(E,{key:t,text:a,variant:n,image:c})})),a&&o.a.createElement(E,{key:"typing",variant:"bot",typingIndicator:!0}),o.a.createElement("div",{ref:c})))}var w=a(5),O=a.n(w),N=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return 0===t.length?null:o.a.createElement("div",{className:O.a.suggestionContainer},t.map((function(e,t){return o.a.createElement("div",{key:e+t,className:O.a.suggestion,onClick:function(){return a(e)}},o.a.createElement("p",{className:O.a.suggestionMessage},e))})))})),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(s.a)(t,2),o=a[0],c=a[1],r=function(e){return c(e.target.value)},i=function(){return c("")};return[o,r,i]},C=a(3),j=a.n(C);function S(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,c=k(),r=Object(s.a)(c,3),i=r[0],u=r[1],m=r[2];return o.a.createElement("div",{className:j.a.chatForm},o.a.createElement("div",{className:j.a.chatInput},o.a.createElement("textarea",{value:i,placeholder:a?"Say Something ...":"Type a message",disabled:a,onChange:function(e){"insertLineBreak"===e.nativeEvent.inputType?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;t(e),m()}():u(e)},rows:"1","data-min-rows":"1",className:j.a.input,autoFocus:!0})),o.a.createElement("div",{className:j.a.chatFormButtons},o.a.createElement(l,{type:"fas",name:"fa-".concat(a?"microphone":"microphone-slash"),onClick:n})))}var M=a(12),I=new(a.n(M).a);I.init({volume:.5,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"}).catch((function(e){return console.error("An error occured while initializing Speech : ",e)}));var F=I,H=a(13),L=a.n(H);function T(e){var t=this,a=e.open,c=e.toggleChatBox,r=new window.webkitSpeechRecognition,l=Object(n.useState)([{text:"Hey I am Krypto! Say ' Hi ' to talk with me. I'll let you know the details of our college",variant:"bot"}]),u=Object(s.a)(l,2),m=u[0],g=u[1],h=Object(n.useState)([]),f=Object(s.a)(h,2),d=f[0],_=f[1],b=i(),E=Object(s.a)(b,2),y=E[0],B=E[1],w=i(),O=Object(s.a)(w,3),k=O[0],C=O[1],j=O[2],M=i(!0),I=Object(s.a)(M,2),H=I[0],T=I[1];Object(n.useEffect)(F.cancel,[H]),Object(n.useEffect)((function(){return y?J():r.stop()}),[y]);var D=function(e,t){"bot"===t&&(j(!1),H&&F.speak({text:e}));var a=m;a.push({text:e,variant:t}),g(a)},G=function(e){D(e,"user"),K(e)},K=function(e){C(),p.a.ajax({type:"POST",url:"https://api.dialogflow.com/v1/query?v=20150910",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer 38578c4faf424691a4540abffe6a1ec8"},data:JSON.stringify({query:e,lang:"en",sessionId:"somerandomthing"})}).then((function(e){return U(e.result.fulfillment.speech)})).catch((function(){return D("it seems like there's something wrong. could you try again later?","bot")}))},U=function(e){(e=e.replace(/[""]/g,"")).includes("<ar>")?q(e):e.includes("<br>")?z(e):e.includes("<img>")?A(e):t.addMessage(e,"bot")},q=function(e){z(e.split(/<ar>/)[0]),_([]),_(e.split(/<ar>/).splice(1))},z=function(e){var t=e.split(/<br>/).splice(1),a=!0,n=!1,o=void 0;try{for(var c,r=t[Symbol.iterator]();!(a=(c=r.next()).done);a=!0){var s=c.value;D(s,"bot")}}catch(i){n=!0,o=i}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}},A=function(e){return function(e,t){var a=m;a.push({image:e,variant:t}),g(a),j(!1)}(e.split(/<img>/)[1],"bot")},J=function(){r.lang="en-US",r.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;K(t),D(t),B()},r.start()};return o.a.createElement("div",{className:L.a.chatBox,style:{display:a?"block":"none"}},o.a.createElement(v,{toggleChatBox:c,speechOutput:H,toggleSpeechOutput:T}),o.a.createElement(x,{messages:m,typingIndicator:k}),o.a.createElement(N,{suggestions:d,handleSubmit:G}),o.a.createElement(S,{speechInput:y,toggleSpeechInput:B,addMessage:D,handleSubmit:G}))}a(21);var D=function(){var e=i(!0),t=Object(s.a)(e,2),a=t[0],c=t[1];return o.a.createElement(n.Fragment,null,o.a.createElement(g,{toggleChatBox:c,open:a}),o.a.createElement(T,{toggleChatBox:c,open:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.c87d06d2.chunk.js.map