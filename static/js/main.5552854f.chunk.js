(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"Typing_container__1guT7",dot:"Typing_dot__2Z5uW",wave:"Typing_wave__dSSWX"}},function(e,t,a){e.exports={text:"Text_text__36ram",bot:"Text_bot__11DyI",self:"Text_self__2d2D2"}},function(e,t,a){e.exports={form:"Form_form__3Kyof",input:"Form_input__uhyNN",formButtons:"Form_formButtons__2J6Uy"}},,function(e,t,a){e.exports={icon:"Icon_icon__ZX-_J",iconMargin:"Icon_iconMargin__1bx-Z"}},function(e,t,a){e.exports={header:"Header_header__3MEwd",botName:"Header_botName__1g6Uc"}},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__2Uhq-",close:"Backdrop_close__3i1r7"}},function(e,t,a){e.exports={image:"Image_image__2RExJ",imageModal:"Image_imageModal__1CvjM"}},function(e,t,a){e.exports={suggestion:"Suggestion_suggestion__1Q_ye"}},,,,,,function(e,t,a){e.exports={modal:"Modal_modal__1qtyE"}},function(e,t,a){e.exports={avatar:"Avatar_avatar__2fGZO"}},function(e,t,a){e.exports={message:"Message_message__2P8kh"}},function(e,t,a){e.exports={logs:"Log_logs__2roTQ"}},function(e,t,a){e.exports={suggestionContainer:"Suggestions_suggestionContainer__l-9Jj"}},,,function(e,t,a){e.exports={chatBox:"ChatBox_chatBox__6qtzc"}},function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__3zaie"}},,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(14),c=a.n(r),i=(a(31),a(1)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],r=a[1],c=function(){return r((function(e){return!e}))};return[o,c]},l=a(5),u=a(25),m={name:"natalie",avatar:"https://i.ibb.co/cDCL67q/bot.png"},g=function(e){return e[Math.floor(Math.random()*e.length)]},p={text:"".concat(g(["hello","hey","hey there","hello there"]),", ").concat(g(["my name is","i am"])," ").concat(m.name," ! what would you like to know about?"),user:"bot"},h=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Object(n.useState)([p]||!1),t=Object(i.a)(e,2),a=t[0],o=t[1],r=function(e,t,a){return o((function(n){var o;return[].concat(Object(u.a)(n),[(o={},Object(l.a)(o,e,t),Object(l.a)(o,"user",a),o)])}))};return[a,r]},f=a(15),v=a.n(f),d=(a(13),a(6));function _(e){var t=e.type,a=void 0===t?"fas":t,n=e.name,r=e.onClick,c=e.marginRight;return o.a.createElement("i",{className:"".concat(a," fa-").concat(n," ").concat(d.icon," ").concat(c&&d.iconMargin),onClick:r})}var b=a(7);function E(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return o.a.createElement("div",{className:b.header},o.a.createElement("h4",{className:b.botName},m.name),o.a.createElement("span",null,o.a.createElement(_,{name:"".concat(a?"volume-up":"volume-mute"),onClick:n,marginRight:!0}),o.a.createElement(_,{name:"minus",onClick:t,marginRight:!0})))}var x=a(3);function y(e){var t=e.message,a=e.user;return o.a.createElement("p",{className:"".concat(x.text," ").concat("bot"===a?x.bot:x.self)},t)}var w=a(8);function k(e){var t=e.show,a=e.closeModal;return t&&o.a.createElement("div",{className:w.backdrop,onClick:a},o.a.createElement("div",{className:w.close},o.a.createElement(_,{name:"times"})))}var O=a(16);function N(e){var t=e.children,a=e.show,n=e.closeModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:O.modal},t),o.a.createElement(k,{show:a,closeModal:n}))}var j=a(9);function C(e){var t=e.src,a=e.alt,n=s(),r=Object(i.a)(n,2),c=r[0],l=r[1];return o.a.createElement(o.a.Fragment,null,c&&o.a.createElement(N,{show:c,closeModal:l},o.a.createElement("img",{className:j.imageModal,src:t,alt:a})),o.a.createElement("img",{className:j.image,src:t,alt:a,onClick:l}))}var B=a(17);function S(e){var t=e.name,a=e.img;return o.a.createElement("div",{className:B.avatar},o.a.createElement("img",{src:a,alt:"".concat(t," avatar")}))}var M=a(2);function I(){return o.a.createElement("div",{className:M.container},o.a.createElement("span",{className:M.dot}),o.a.createElement("span",{className:M.dot}),o.a.createElement("span",{className:M.dot}))}var T=a(18),F=Object(n.memo)((function(e){var t=e.text,a=void 0===t?"":t,n=e.image,r=e.user,c=e.typing;return o.a.createElement("div",{className:T.message},"bot"===r&&o.a.createElement(S,{name:m.name,img:m.avatar}),a&&o.a.createElement(y,{message:a,user:r}),n&&o.a.createElement(C,{src:n,alt:"requested"}),c&&o.a.createElement(I,null))})),q=a(19);function R(e){var t=e.log,a=e.typing,r=e.noSuggestions;Object(n.useEffect)((function(){return c.current.scrollIntoView({behavior:"smooth"})}));var c=Object(n.useRef)();return o.a.createElement("div",{className:q.logs,style:{height:r?"calc(70vh + 50px)":"70vh"}},t.map((function(e,t){var a=e.text,n=e.user,r=e.image;return o.a.createElement(F,{key:t,text:a,user:n,image:r})})),a&&o.a.createElement(F,{key:"typing",user:"bot",typing:!0}),o.a.createElement("div",{ref:c}))}var J=a(10);function D(e){var t=e.suggestionText,a=e.onClick;return o.a.createElement("div",{className:J.suggestion,onClick:function(){return a(t)}},o.a.createElement("p",{className:J.suggestionMessage},t))}var z=a(20),G=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return o.a.createElement("div",{className:z.suggestionContainer,style:{display:0===t.length?"none":"flex"}},t.map((function(e,t){return o.a.createElement(D,{suggestionText:e,key:t,onClick:a})})))})),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],r=a[1],c=function(e){return r(e.target.value)},s=function(){return r("")};return[o,c,s]},A=a(4);function W(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,r=U(),c=Object(i.a)(r,3),s=c[0],l=c[1],u=c[2];function m(){""!==s.trim()&&t(s),u()}return o.a.createElement("div",{className:A.form},o.a.createElement("div",{className:A.input},o.a.createElement("textarea",{autoFocus:!0,rows:"1",value:s,disabled:a,onChange:function(e){"insertLineBreak"===e.nativeEvent.inputType?m():l(e)},placeholder:a?"Say Something ...":"Type a message"})),o.a.createElement("div",{className:A.formButtons},o.a.createElement(_,{name:"arrow-right",onClick:m,marginRight:!0}),o.a.createElement(_,{name:"".concat(a?"microphone":"microphone-slash"),onClick:n})))}var Z=a(11),K=a.n(Z),L=a(21),Q=a(22),V=a.n(Q),X=["i think something is wrong. could you try again later?","i cant contact the server. could you try again later?","it seems like something is wrong. could you try again later?","something is wrong. could you try again later?"],H="https://api.dialogflow.com/v1/query?v=20150910",P="38578c4faf424691a4540abffe6a1ec8",$="izqGQrUr7FItDPD1XVKuVxGbiDBRNspylOSwfNfA",Y=function(){var e=Object(L.a)(K.a.mark((function e(t){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Object,e.next=3,V.a.post({url:H,contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer ".concat(P)},data:JSON.stringify({query:t,lang:"en",sessionId:$})}).then((function(e){var t=(e=e.result.fulfillment.speech).split(/<ar>/);e=t[0],a.suggestions=t.splice(1);var n=e.split(/<br>/);e=n[0],a.texts=n.splice(1),a.images=e.split(/<img>/).splice(1)})).catch((function(){return a.texts=[g(X)]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee={volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"},te=a(23);function ae(e){var t=e.open,a=e.toggleChatBox,r=new v.a,c=new window.webkitSpeechRecognition;r.init(ee).catch((function(e){return console.error("An error occured while initializing Speech : ",e)})),c.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;T(t),w()};var l=h(),u=Object(i.a)(l,2),m=u[0],g=u[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),d=f[0],_=f[1],b=s(),x=Object(i.a)(b,2),y=x[0],w=x[1],k=Object(n.useState)(!1),O=Object(i.a)(k,2),N=O[0],j=O[1],C=s(!0),B=Object(i.a)(C,2),S=B[0],M=B[1];Object(n.useEffect)(r.cancel,[S]),Object(n.useEffect)((function(){return y?c.start():c.stop()}),[y]);var I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bot";"bot"===a&&(j(!1),S&&"image"!==e&&r.speak({text:t})),g(e,t,a)},T=function(e){Y(e).then(F),I("text",e,"user"),j(!0)},F=function(e){_(e.suggestions),e.texts.map((function(e){return I("text",e)})),e.images.map((function(e){return I("image",e)}))};return o.a.createElement("div",{className:te.chatBox,style:{display:t?"block":"none"}},o.a.createElement(E,{toggleChatBox:a,speechOutput:S,toggleSpeechOutput:M}),o.a.createElement(R,{log:m,typing:N,noSuggestions:0===d.length}),o.a.createElement(G,{suggestions:d,handleSubmit:T}),o.a.createElement(W,{speechInput:y,toggleSpeechInput:w,handleSubmit:T}))}var ne=a(24);function oe(e){var t=e.toggleChatBox;return o.a.createElement("div",{className:ne.chatButton,onClick:t},o.a.createElement(_,{name:"comments"}))}var re=function(){var e=s(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae,{toggleChatBox:n,open:a}),o.a.createElement(oe,{toggleChatBox:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[26,1,2]]]);
//# sourceMappingURL=main.5552854f.chunk.js.map