(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"Typing_container__35Jos",dot:"Typing_dot__3RFGR",wave:"Typing_wave__qZRrP"}},function(e,t,a){e.exports={icon:"Icon_icon__3T9-N",iconMargin:"Icon_iconMargin__2UzjK",hoverIcon:"Icon_hoverIcon__1Cq8g"}},function(e,t,a){e.exports={text:"Text_text__3mQMw",bot:"Text_bot__sjNxO",self:"Text_self__1A19Q"}},function(e,t,a){e.exports={form:"Form_form__24Orp",input:"Form_input__3GJ_y",formButtons:"Form_formButtons__14i1e"}},function(e,t,a){e.exports={header:"Header_header__25WCN",botName:"Header_botName___zpoI"}},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__2P_Ui",close:"Backdrop_close__3idOk"}},function(e,t,a){e.exports={image:"Image_image__3We8l",imageModal:"Image_imageModal__tb07l"}},function(e,t,a){e.exports={suggestion:"Suggestion_suggestion__1jQiU"}},,,,,,function(e,t,a){e.exports={modal:"Modal_modal__1sIhn"}},function(e,t,a){e.exports={avatar:"Avatar_avatar__1dfnH"}},function(e,t,a){e.exports={message:"Message_message__35BHq"}},function(e,t,a){e.exports={logs:"Log_logs__-WBgR"}},function(e,t,a){e.exports={group:"Group_group__1X63p"}},function(e,t,a){e.exports={suggestionBox:"SuggestionBox_suggestionBox__1oBal"}},,,function(e,t,a){e.exports={chatBox:"ChatBox_chatBox__2Nh-K"}},function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__skEXu"}},,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),c=a.n(r),s=(a(31),a(1)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(s.a)(t,2),o=a[0],r=a[1],c=function(){return r((function(e){return!e}))};return[o,c]},l=a(14),u=a.n(l),m=(a(12),a(3));function g(e){var t=e.type,a=void 0===t?"fas":t,n=e.name,r=e.onClick,c=e.marginRight,s=e.disableHover;return o.a.createElement("i",{className:"".concat(a," fa-").concat(n," ").concat(m.icon," ").concat(!s&&m.hoverIcon," \n\t\t\t\t").concat(c&&m.iconMargin),onClick:r})}var p={name:"natalie",avatar:"https://i.ibb.co/cDCL67q/bot.png"},h=a(6);function v(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return o.a.createElement("div",{className:h.header},o.a.createElement("h4",{className:h.botName},p.name),o.a.createElement("span",null,o.a.createElement(g,{name:"".concat(a?"volume-up":"volume-mute"),onClick:n,marginRight:!0}),o.a.createElement(g,{name:"minus",onClick:t,marginRight:!0})))}var f=a(4);function d(e){var t=e.message,a=e.user;return o.a.createElement("p",{className:"".concat(f.text," ").concat("bot"===a?f.bot:f.self)},t)}var _=a(7);function b(e){var t=e.show,a=e.closeModal;return t&&o.a.createElement("div",{className:_.backdrop,onClick:a},o.a.createElement("div",{className:_.close},o.a.createElement(g,{name:"times"})))}var E=a(15);function x(e){var t=e.children,a=e.show,n=e.closeModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:E.modal},t),o.a.createElement(b,{show:a,closeModal:n}))}var y=a(8);function w(e){var t=e.src,a=e.alt,n=i(),r=Object(s.a)(n,2),c=r[0],l=r[1];return o.a.createElement(o.a.Fragment,null,c&&o.a.createElement(x,{show:c,closeModal:l},o.a.createElement("img",{className:y.imageModal,src:t,alt:a})),o.a.createElement("img",{className:y.image,src:t,alt:a,onClick:l}))}var k=a(16);function N(e){var t=e.name,a=e.img;return o.a.createElement("div",{className:k.avatar},o.a.createElement("img",{src:a,alt:"".concat(t," avatar")}))}var O=a(2);function B(){return o.a.createElement("div",{className:O.container},o.a.createElement("span",{className:O.dot}),o.a.createElement("span",{className:O.dot}),o.a.createElement("span",{className:O.dot}))}var j=a(17),C=Object(n.memo)((function(e){var t=e.text,a=e.image,n=e.user,r=e.typing,c=e.hasAvatar;return o.a.createElement("div",{className:j.message,style:{marginLeft:c?"none":"60px"}},c&&o.a.createElement(N,{name:p.name,img:p.avatar}),t&&o.a.createElement(d,{message:t,user:n}),a&&o.a.createElement(w,{src:a,alt:"requested",noAvatar:!c}),r&&o.a.createElement(B,null))})),S=a(18),I=a(19),M=Object(n.memo)((function(e){var t=e.texts,a=void 0===t?[]:t,n=e.images,r=void 0===n?[]:n,c=e.user,s=void 0===c?"bot":c;return o.a.createElement("div",{className:I.group},a.map((function(e,t){return o.a.createElement(C,{key:t,text:e,user:s,hasAvatar:"bot"===s&&0===t})})),r.map((function(e,t){return o.a.createElement(C,{key:t,image:e,user:s,hasAvatar:"bot"===s&&0===t})})))}));function T(e){var t=e.log,a=e.typing,r=e.noSuggestions;Object(n.useEffect)((function(){return c.current.scrollIntoView({behavior:"smooth"})}));var c=Object(n.useRef)();return o.a.createElement("div",{className:S.logs,style:{height:r?"calc(70vh + 50px)":"70vh"}},t.map((function(e,t){var a=e.texts,n=e.images,r=e.user;return o.a.createElement(M,{texts:a,images:n,user:r,key:t})})),a&&o.a.createElement(C,{key:"typing",user:"bot",typing:!0,hasAvatar:!0}),o.a.createElement("div",{ref:c}))}var R=a(9);function A(e){var t=e.suggestionText,a=e.onClick;return o.a.createElement("div",{className:R.suggestion,onClick:function(){return a(t)}},o.a.createElement("p",{className:R.suggestionMessage},t))}var F=a(20),q=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return o.a.createElement("div",{className:F.suggestionBox,style:{display:0===t.length?"none":"flex"}},t.map((function(e,t){return o.a.createElement(A,{suggestionText:e,key:t,onClick:a})})))})),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(s.a)(t,2),o=a[0],r=a[1],c=function(e){return r(e.target.value)},i=function(){return r("")};return[o,c,i]},H=a(5);function z(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,r=G(),c=Object(s.a)(r,3),i=c[0],l=c[1],u=c[2],m=function(){""!==i.trim()&&t(i),u()};return o.a.createElement("div",{className:H.form},o.a.createElement("div",{className:H.input},o.a.createElement("textarea",{autoFocus:!0,rows:"1",value:i,disabled:a,onChange:function(e){return"insertLineBreak"===e.nativeEvent.inputType?m():l(e)},placeholder:a?"Say Something ...":"Type a message"})),o.a.createElement("div",{className:H.formButtons},o.a.createElement(g,{name:"arrow-right",onClick:m,marginRight:!0}),o.a.createElement(g,{name:"".concat(a?"microphone":"microphone-slash"),onClick:n})))}var J=a(10),U=a.n(J),W=a(21),D=a(22),K=a.n(D),L=function(e){return e[Math.floor(Math.random()*e.length)]},Q=["i think something is wrong. could you try again later?","i cant contact the server. could you try again later?","it seems like something is wrong. could you try again later?","something is wrong. could you try again later?"],P="https://api.dialogflow.com/v1/query?v=20150910",V="38578c4faf424691a4540abffe6a1ec8",X="izqGQrUr7FItDPD1XVKuVxGbiDBRNspylOSwfNfA",Z=function(){var e=Object(W.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,K.a.post({url:P,contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer ".concat(V)},data:JSON.stringify({query:t,lang:"en",sessionId:X})}).then((function(e){var t=(e=e.result.fulfillment.speech).split(/<ar>/);e=t[0],a.suggestions=t.splice(1);var n=e.split(/<br>/);e=n[0],a.texts=n.splice(1),a.images=e.split(/<img>/).splice(1)})).catch((function(){return a.texts=[L(Q)]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=a(25),Y=[{texts:["".concat(L(["hello","hey","hey there","hello there"]),", ").concat(L(["my name is","i am"])," ").concat(p.name," ! what would you like to know about?")],user:"bot"}],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(n.useState)(Y||e),a=Object(s.a)(t,2),o=a[0],r=a[1],c=function(e,t){return r((function(a){return[].concat(Object($.a)(a),[{texts:e.texts,images:e.images,user:t}])}))};return[o,c]},te={volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"},ae=a(23);function ne(e){var t=e.open,a=e.toggleChatBox,r=new u.a,c=new window.webkitSpeechRecognition;r.init(te).catch((function(e){return console.error("An error occured while initializing Speech : ",e)})),c.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;I(t),y()};var l=ee(),m=Object(s.a)(l,2),g=m[0],p=m[1],h=Object(n.useState)([]),f=Object(s.a)(h,2),d=f[0],_=f[1],b=i(),E=Object(s.a)(b,2),x=E[0],y=E[1],w=Object(n.useState)(!1),k=Object(s.a)(w,2),N=k[0],O=k[1],B=i(!0),j=Object(s.a)(B,2),C=j[0],S=j[1];Object(n.useEffect)(r.cancel,[C]),Object(n.useEffect)((function(){return x?c.start():c.stop()}),[x,c]);var I=function(e){Z(e).then(M),p({texts:[e]},"user"),O(!0)},M=function(e){_(e.suggestions),p(e,"bot"),O(!1)};return o.a.createElement("div",{className:ae.chatBox,style:{display:t?"block":"none"}},o.a.createElement(v,{toggleChatBox:a,speechOutput:C,toggleSpeechOutput:S}),o.a.createElement(T,{log:g,typing:N,noSuggestions:0===d.length}),o.a.createElement(q,{suggestions:d,handleSubmit:I}),o.a.createElement(z,{speechInput:x,toggleSpeechInput:y,handleSubmit:I}))}var oe=a(24);function re(e){var t=e.toggleChatBox;return o.a.createElement("div",{className:oe.chatButton,onClick:t},o.a.createElement(g,{name:"comments",disableHover:!0}))}var ce=function(){var e=i(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(ne,{toggleChatBox:n,open:a}),o.a.createElement(re,{toggleChatBox:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[26,1,2]]]);
//# sourceMappingURL=main.146f20dd.chunk.js.map