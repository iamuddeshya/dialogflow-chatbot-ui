(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"TypingIndicator_container__2XX_d",dot:"TypingIndicator_dot__1BQY8",wave:"TypingIndicator_wave__239yR"}},function(e,t,a){e.exports={chatForm:"Form_chatForm__2AxI0",chatInput:"Form_chatInput__2nX02",chatFormButtons:"Form_chatFormButtons__QVP8R"}},function(e,t,a){e.exports={chatBoxHeader:"Header_chatBoxHeader__16r-Z",chatBotName:"Header_chatBotName__297om"}},function(e,t,a){e.exports={text:"Text_text__3mQMw",bot:"Text_bot__sjNxO",self:"Text_self__1A19Q"}},function(e,t,a){e.exports={icon:"Icon_icon__3T9-N",iconMargin:"Icon_iconMargin__2UzjK"}},,function(e,t,a){e.exports={image:"Image_image__3We8l",imageModal:"Image_imageModal__tb07l"}},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__2P_Ui",close:"Backdrop_close__3idOk"}},function(e,t,a){e.exports={chatBoxContent:"Log_chatBoxContent__-oVjb",chatLogs:"Log_chatLogs__1h29_"}},function(e,t,a){e.exports={suggestion:"Suggestion_suggestion__1jQiU"}},,,,function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__skEXu"}},,,function(e,t,a){e.exports={avatar:"Avatar_avatar__1dfnH"}},function(e,t,a){e.exports={modal:"Modal_modal__1sIhn"}},function(e,t,a){e.exports={message:"Message_message__35BHq"}},function(e,t,a){e.exports={suggestionContainer:"Suggestions_suggestionContainer__3JJoG"}},function(e,t,a){e.exports={chatBox:"ChatBox_chatBox__2Nh-K"}},,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),r=a.n(c),i=(a(29),a(1)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],c=a[1],r=function(){return c((function(e){return!e}))};return[o,r]},l=(a(13),a(6));function u(e){var t=e.type,a=void 0===t?"fas":t,n=e.name,c=e.onClick,r=e.marginRight;return o.a.createElement("i",{className:"".concat(a," fa-").concat(n," ").concat(l.icon," ").concat(r&&l.iconMargin),onClick:c})}var m=a(15),g=a.n(m);function h(e){var t=e.toggleChatBox;return o.a.createElement("div",{className:g.a.chatButton,onClick:t},o.a.createElement(u,{name:"comments"}))}var d=a(7),p=a(23),f={name:"natalie",avatar:"https://i.ibb.co/cDCL67q/bot.png"},v=function(e){return e[Math.floor(Math.random()*e.length)]},_={text:"".concat(v(["hello","hey","hey there","hello there"]),", ").concat(v(["my name is","i am"])," ").concat(f.name," ! what would you like to know about?"),user:"bot"},b=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Object(n.useState)([_]||!1),t=Object(i.a)(e,2),a=t[0],o=t[1],c=function(e,t,a){return o((function(n){var o;return[].concat(Object(p.a)(n),[(o={},Object(d.a)(o,e,t),Object(d.a)(o,"user",a),o)])}))};return[a,c]},E=a(16),x=a.n(E),y=a(17),w=a.n(y),k=a(4);function B(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return o.a.createElement("div",{className:k.chatBoxHeader},o.a.createElement("h4",{className:k.chatBotName},f.name),o.a.createElement("div",{className:k.icons},o.a.createElement(u,{name:"".concat(a?"volume-up":"volume-mute"),onClick:n,marginRight:!0}),o.a.createElement(u,{name:"minus",onClick:t,marginRight:!0})))}var N=a(2);function O(){return o.a.createElement("div",{className:N.container},o.a.createElement("span",{className:N.dot}),o.a.createElement("span",{className:N.dot}),o.a.createElement("span",{className:N.dot}))}var j=a(18);function C(e){var t=e.name,a=e.img;return o.a.createElement("div",{className:j.avatar},o.a.createElement("img",{src:a,alt:"".concat(t," avatar")}))}var I=a(5);function S(e){var t=e.message,a=e.user;return o.a.createElement("p",{className:"".concat(I.text," ").concat("bot"===a?I.bot:I.self)},t)}var M=a(8),F=a(9);function T(e){var t=e.show,a=e.closeModal;return t&&o.a.createElement("div",{className:F.backdrop,onClick:a},o.a.createElement("div",{className:F.close},o.a.createElement(u,{name:"times"})))}var R=a(19);function H(e){var t=e.children,a=e.show,n=e.closeModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T,{show:a,closeModal:n}),o.a.createElement("div",{className:R.modal},t))}function L(e){var t=e.src,a=e.alt,c=s(),r=Object(i.a)(c,2),l=r[0],u=r[1];return o.a.createElement(n.Fragment,null,l&&o.a.createElement(H,{show:l,closeModal:u},o.a.createElement("img",{className:M.imageModal,src:t,alt:a})),o.a.createElement("img",{className:M.image,src:t,alt:a,onClick:u}))}var q=a(20),A=Object(n.memo)((function(e){var t=e.text,a=void 0===t?"":t,n=e.image,c=e.user,r=e.typing;return o.a.createElement("div",{className:q.message},"bot"===c&&o.a.createElement(C,{name:f.name,img:f.avatar}),a&&o.a.createElement(S,{message:a,user:c}),n&&o.a.createElement(L,{src:n,alt:"requested"}),r&&o.a.createElement(O,null))})),Q=a(10);function G(e){var t=e.log,a=e.typing;Object(n.useEffect)((function(){return c.current.scrollIntoView({behavior:"smooth"})}));var c=Object(n.useRef)();return o.a.createElement("div",{className:Q.chatBoxContent},o.a.createElement("div",{className:Q.chatLogs},t.map((function(e,t){var a=e.text,n=e.user,c=e.image;return o.a.createElement(A,{key:t,text:a,user:n,image:c})})),a&&o.a.createElement(A,{key:"typing",user:"bot",typing:!0}),o.a.createElement("div",{ref:c})))}var J=a(11);function U(e){var t=e.suggestionText,a=e.onClick;return o.a.createElement("div",{className:J.suggestion,onClick:function(){return a(t)}},o.a.createElement("p",{className:J.suggestionMessage},t))}var V=a(21),X=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return o.a.createElement("div",{className:V.suggestionContainer},t.map((function(e,t){return o.a.createElement(U,{suggestionText:e,key:t,onClick:a})})))})),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],c=a[1],r=function(e){return c(e.target.value)},s=function(){return c("")};return[o,r,s]},D=a(3),K=a.n(D);function P(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,c=z(),r=Object(i.a)(c,3),s=r[0],l=r[1],m=r[2];function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;""!==s.trim()&&t(e),m()}return o.a.createElement("div",{className:K.a.chatForm},o.a.createElement("div",{className:K.a.chatInput},o.a.createElement("textarea",{autoFocus:!0,rows:"1",value:s,"data-min-rows":"1",disabled:a,onChange:function(e){"insertLineBreak"===e.nativeEvent.inputType?g():l(e)},className:K.a.input,placeholder:a?"Say Something ...":"Type a message"})),o.a.createElement("div",{className:K.a.chatFormButtons},o.a.createElement(u,{name:"arrow-right",onClick:function(){return g(s)},marginRight:!0}),o.a.createElement(u,{name:"".concat(a?"microphone":"microphone-slash"),onClick:n})))}var W={url:"https://api.dialogflow.com/v1/query?v=20150910",accessToken:"38578c4faf424691a4540abffe6a1ec8",sessionId:"izqGQrUr7FItDPD1XVKuVxGbiDBRNspylOSwfNfA"},Y={volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"},Z=["i think something is wrong. could you try again later?","i cant contact the server. could you try again later?","it seems like something is wrong. could you try again later?","something is wrong. could you try again later?"],$=a(22);function ee(e){var t=e.open,a=e.toggleChatBox,c=new w.a,r=new window.webkitSpeechRecognition;c.init(Y).catch((function(e){return console.error("An error occured while initializing Speech : ",e)})),r.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;H(t),T("text",t,"user"),k()};var l=b(),u=Object(i.a)(l,2),m=u[0],g=u[1],h=Object(n.useState)([]),d=Object(i.a)(h,2),p=d[0],f=d[1],_=s(),E=Object(i.a)(_,2),y=E[0],k=E[1],N=Object(n.useState)(!1),O=Object(i.a)(N,2),j=O[0],C=O[1],I=s(!0),S=Object(i.a)(I,2),M=S[0],F=S[1];Object(n.useEffect)(c.cancel,[M]),Object(n.useEffect)((function(){return y?r.start():r.stop()}),[y]);var T=function(e,t,a){"bot"===a&&(C(!1),M&&"image"!==e&&c.speak({text:t})),g(e,t,a)},R=function(e){H(e),T("text",e,"user"),C(!0)},H=function(e){var t=W.url,a=W.accessToken,n=W.sessionId;x.a.post({url:t,contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer ".concat(a)},data:JSON.stringify({query:e,lang:"en",sessionId:n})}).then((function(e){return L(e.result.fulfillment.speech)})).catch((function(){return T("text",v(Z),"bot")}))},L=function(e){e.includes("<ar>")?q(e):e.includes("<br>")?A(e):e.includes("<img>")?Q(e):T("text",e,"bot")},q=function(e){A(e.split(/<ar>/)[0]),f(e.split(/<ar>/).splice(1))},A=function(e){e.includes("<img>")&&Q(e.split(/<br>/)[0]);var t=e.split(/<br>/).splice(1),a=!0,n=!1,o=void 0;try{for(var c,r=t[Symbol.iterator]();!(a=(c=r.next()).done);a=!0){var i=c.value;T("text",i,"bot")}}catch(s){n=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}},Q=function(e){return T("image",e.split(/<img>/)[1],"bot")};return o.a.createElement("div",{className:$.chatBox,style:{display:t?"block":"none"}},o.a.createElement(B,{toggleChatBox:a,speechOutput:M,toggleSpeechOutput:F}),o.a.createElement(G,{log:m,typing:j}),o.a.createElement(X,{suggestions:p,handleSubmit:R}),o.a.createElement(P,{speechInput:y,toggleSpeechInput:k,handleSubmit:R}))}var te=function(){var e=s(!0),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{toggleChatBox:n}),o.a.createElement(ee,{toggleChatBox:n,open:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[24,1,2]]]);
//# sourceMappingURL=main.b5f6af0a.chunk.js.map