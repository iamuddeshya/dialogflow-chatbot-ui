(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={chat:"Message_chat__1z0vg",botImg:"Message_botImg__2cNLG",chatMessage:"Message_chatMessage__wquIE",imageMessage:"Message_imageMessage__1DVaN",bot:"Message_bot__2ltVA",self:"Message_self__2Deh_",container:"Message_container__1S2Td",dot:"Message_dot__1zuZ-",wave:"Message_wave__Gsw14"}},function(e,t,a){e.exports={chatForm:"Form_chatForm__2AxI0",chatInput:"Form_chatInput__2nX02",chatFormButtons:"Form_chatFormButtons__QVP8R"}},function(e,t,a){e.exports={chatBoxHeader:"Header_chatBoxHeader__16r-Z",chatBotName:"Header_chatBotName__297om"}},function(e,t,a){e.exports={icon:"Icon_icon__3T9-N",iconMargin:"Icon_iconMargin__2UzjK"}},,function(e,t,a){e.exports={chatBoxContent:"Logs_chatBoxContent__2Ri1g",chatLogs:"Logs_chatLogs__1OWsJ"}},function(e,t,a){e.exports={suggestion:"Suggestion_suggestion__1jQiU"}},,,,function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__skEXu"}},,,function(e,t,a){e.exports={suggestionContainer:"Suggestions_suggestionContainer__3JJoG"}},function(e,t,a){e.exports={chatBox:"Chat_chatBox__2FQQW"}},,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),r=a.n(c),i=(a(23),a(1)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],c=a[1],r=function(){return c((function(e){return!e}))};return[o,r]},u=(a(10),a(5));function l(e){var t=e.type,a=void 0===t?"fas":t,n=e.name,c=e.onClick,r=e.marginRight;return o.a.createElement("i",{className:"".concat(a," fa-").concat(n," ").concat(u.icon," ").concat(r&&u.iconMargin),onClick:c})}var m=a(12),g=a.n(m);function h(e){var t=e.toggleChatBox;return o.a.createElement("div",{className:g.a.chatButton,onClick:t},o.a.createElement(l,{name:"comments"}))}var f=a(6),p=a(17),v={name:"natalie",avatar:"https://i.ibb.co/cDCL67q/bot.png"},d=function(e){return e[Math.floor(Math.random()*e.length)]},_={text:"".concat(d(["hello","hey","hey there","hello there"]),", ").concat(d(["my name is","i am"])," ").concat(v.name," ! what would you like to know about?"),user:"bot"},b=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Object(n.useState)([_]||!1),t=Object(i.a)(e,2),a=t[0],o=t[1],c=function(e,t,a){return o((function(n){var o;return[].concat(Object(p.a)(n),[(o={},Object(f.a)(o,e,t),Object(f.a)(o,"user",a),o)])}))};return[a,c]},E=a(13),x=a.n(E),w=a(14),y=a.n(w),N=a(4);function B(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return o.a.createElement("div",{className:N.chatBoxHeader},o.a.createElement("h4",{className:N.chatBotName},v.name),o.a.createElement("div",{className:N.icons},o.a.createElement(l,{name:"".concat(a?"volume-up":"volume-mute"),onClick:n,marginRight:!0}),o.a.createElement(l,{name:"minus",onClick:t,marginRight:!0})))}var O=a(2),j=a.n(O),k=Object(n.memo)((function(e){var t=e.text,a=void 0===t?"":t,n=e.image,c=e.user,r=e.typingIndicator,i=j.a.chat,s=j.a.bot,u=j.a.self,l=j.a.botImg,m=j.a.chatMessage,g=j.a.imageMessage;return o.a.createElement("div",{className:"".concat(i," ").concat("bot"===c?s:u)},"bot"===c&&o.a.createElement("div",{className:l},o.a.createElement("img",{src:v.avatar,alt:"bot avatar"})),r&&o.a.createElement("div",{className:j.a.container},o.a.createElement("span",{className:j.a.dot}),o.a.createElement("span",{className:j.a.dot}),o.a.createElement("span",{className:j.a.dot})),a&&o.a.createElement("p",{className:m},a),n&&o.a.createElement("img",{className:g,src:n,alt:"requested"}))})),C=a(7),I=a.n(C);function S(e){var t=e.log,a=e.typingIndicator,c=Object(n.useRef)();return Object(n.useEffect)((function(){return c.current.scrollIntoView({behavior:"smooth"})})),o.a.createElement("div",{className:I.a.chatBoxContent},o.a.createElement("div",{className:I.a.chatLogs},t.map((function(e,t){var a=e.text,n=e.user,c=e.image;return o.a.createElement(k,{key:t,text:a,user:n,image:c})})),a&&o.a.createElement(k,{key:"typing",user:"bot",typingIndicator:!0}),o.a.createElement("div",{ref:c})))}var M=a(8);function F(e){var t=e.suggestionText,a=e.onClick;return o.a.createElement("div",{className:M.suggestion,onClick:function(){return a(t)}},o.a.createElement("p",{className:M.suggestionMessage},t))}var T=a(15),R=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return o.a.createElement("div",{className:T.suggestionContainer},t.map((function(e,t){return o.a.createElement(F,{suggestionText:e,key:t,onClick:a})})))})),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],c=a[1],r=function(e){return c(e.target.value)},s=function(){return c("")};return[o,r,s]},G=a(3),q=a.n(G);function z(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,c=L(),r=Object(i.a)(c,3),s=r[0],u=r[1],m=r[2];function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;""!==s.trim()&&t(e),m()}return o.a.createElement("div",{className:q.a.chatForm},o.a.createElement("div",{className:q.a.chatInput},o.a.createElement("textarea",{autoFocus:!0,rows:"1",value:s,"data-min-rows":"1",disabled:a,onChange:function(e){"insertLineBreak"===e.nativeEvent.inputType?g():u(e)},className:q.a.input,placeholder:a?"Say Something ...":"Type a message"})),o.a.createElement("div",{className:q.a.chatFormButtons},o.a.createElement(l,{name:"arrow-right",onClick:function(){return g(s)},marginRight:!0}),o.a.createElement(l,{name:"".concat(a?"microphone":"microphone-slash"),onClick:n})))}var D={url:"https://api.dialogflow.com/v1/query?v=20150910",accessToken:"38578c4faf424691a4540abffe6a1ec8",sessionId:"izqGQrUr7FItDPD1XVKuVxGbiDBRNspylOSwfNfA"},J={volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"},V=a(16);function A(e){var t=e.open,a=e.toggleChatBox,c=new y.a,r=new window.webkitSpeechRecognition;c.init(J).catch((function(e){return console.error("An error occured while initializing Speech : ",e)})),r.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;G(t),T("text",t,"user"),w()};var u=b(),l=Object(i.a)(u,2),m=l[0],g=l[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),p=f[0],v=f[1],d=s(),_=Object(i.a)(d,2),E=_[0],w=_[1],N=s(),O=Object(i.a)(N,2),j=O[0],k=O[1],C=s(!0),I=Object(i.a)(C,2),M=I[0],F=I[1];Object(n.useEffect)(c.cancel,[M]),Object(n.useEffect)((function(){return E?r.start():r.stop()}),[E]);var T=function(e,t,a){"bot"===a&&(k(),M&&"image"!==e&&c.speak({text:t})),g(e,t,a)},L=function(e){G(e),T("text",e,"user"),k()},G=function(e){var t=D.url,a=D.accessToken,n=D.sessionId;x.a.post({url:t,contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer ".concat(a)},data:JSON.stringify({query:e,lang:"en",sessionId:n})}).then((function(e){return q(e.result.fulfillment.speech)})).catch((function(){return T("text","it seems like there's something wrong. could you try again later?","bot")}))},q=function(e){e.includes("<ar>")?A(e):e.includes("<br>")?H(e):e.includes("<img>")?Q(e):T("text",e,"bot")},A=function(e){H(e.split(/<ar>/)[0]),v(e.split(/<ar>/).splice(1))},H=function(e){e.includes("<img>")&&Q(e.split(/<br>/)[0]);var t=e.split(/<br>/).splice(1),a=!0,n=!1,o=void 0;try{for(var c,r=t[Symbol.iterator]();!(a=(c=r.next()).done);a=!0){var i=c.value;T("text",i,"bot")}}catch(s){n=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}},Q=function(e){return T("image",e.split(/<img>/)[1],"bot")};return o.a.createElement("div",{className:V.chatBox,style:{display:t?"block":"none"}},o.a.createElement(B,{toggleChatBox:a,speechOutput:M,toggleSpeechOutput:F}),o.a.createElement(S,{log:m,typingIndicator:j}),o.a.createElement(R,{suggestions:p,handleSubmit:L}),o.a.createElement(z,{speechInput:E,toggleSpeechInput:w,handleSubmit:L}))}var H=function(){var e=s(!0),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{toggleChatBox:n}),o.a.createElement(A,{toggleChatBox:n,open:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[18,1,2]]]);
//# sourceMappingURL=main.4437d018.chunk.js.map