(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"Typing_container__2OfZU",dot:"Typing_dot__13gU7",wave:"Typing_wave__3KtcU"}},function(e,t,a){e.exports={icon:"Icon_icon__2kDkK",iconMargin:"Icon_iconMargin__zDICM",hoverIcon:"Icon_hoverIcon__186Hv"}},function(e,t,a){e.exports={text:"Text_text__3JYlX",bot:"Text_bot__1xBSu",self:"Text_self__3vnag"}},function(e,t,a){e.exports={form:"Form_form__3TRjJ",input:"Form_input__UNtNM",formButtons:"Form_formButtons__21aFW"}},function(e,t,a){e.exports={header:"Header_header___blTr",botName:"Header_botName__2Lxnx"}},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__rugxq",close:"Backdrop_close__U8bxi"}},function(e,t,a){e.exports={image:"Image_image__24bxc",imageModal:"Image_imageModal__vMv6z"}},function(e,t,a){e.exports={suggestion:"Suggestion_suggestion__SbGAW"}},,,,,,function(e,t,a){e.exports={modal:"Modal_modal__2Ls7j"}},function(e,t,a){e.exports={avatar:"Avatar_avatar__3z-L8"}},function(e,t,a){e.exports={message:"Message_message__1YO9G"}},function(e,t,a){e.exports={logs:"Log_logs__3dxCB"}},function(e,t,a){e.exports={group:"Group_group__KIRjX"}},function(e,t,a){e.exports={suggestionBox:"SuggestionBox_suggestionBox__1knhV"}},,,function(e,t,a){e.exports={chatBox:"ChatBox_chatBox__GOHp6"}},function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__1js7d"}},,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),s=(a(31),a(1)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1],c=function(){return o((function(e){return!e}))};return[r,c]},l=a(14),u=a.n(l),m=(a(12),a(3));function g(e){var t=e.type,a=void 0===t?"fas":t,n=e.name,o=e.onClick,c=e.marginRight,s=e.disableHover;return r.a.createElement("i",{className:"".concat(a," fa-").concat(n," ").concat(m.icon," ").concat(!s&&m.hoverIcon," \n\t\t\t\t").concat(c&&m.iconMargin),onClick:o})}var p={name:"natalie",avatar:"https://i.ibb.co/cDCL67q/bot.png"},h=a(6);function v(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return r.a.createElement("div",{className:h.header},r.a.createElement("h4",{className:h.botName},p.name),r.a.createElement("span",null,r.a.createElement(g,{name:"".concat(a?"volume-up":"volume-mute"),onClick:n,marginRight:!0}),r.a.createElement(g,{name:"minus",onClick:t,marginRight:!0})))}var f=a(4);function d(e){var t=e.message,a=e.user;return r.a.createElement("p",{className:"".concat(f.text," ").concat("bot"===a?f.bot:f.self)},t)}var _=a(7);function x(e){var t=e.show,a=e.closeModal;return t&&r.a.createElement("div",{className:_.backdrop,onClick:a},r.a.createElement("div",{className:_.close},r.a.createElement(g,{name:"times"})))}var b=a(15);function E(e){var t=e.children,a=e.show,n=e.closeModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:b.modal},t),r.a.createElement(x,{show:a,closeModal:n}))}var y=a(8);function w(e){var t=e.src,a=e.alt,n=i(),o=Object(s.a)(n,2),c=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(E,{show:c,closeModal:l},r.a.createElement("img",{className:y.imageModal,src:t,alt:a})),r.a.createElement("img",{className:y.image,src:t,alt:a,onClick:l}))}var k=a(16);function O(e){var t=e.name,a=e.img;return r.a.createElement("div",{className:k.avatar},r.a.createElement("img",{src:a,alt:"".concat(t," avatar")}))}var N=a(2);function j(){return r.a.createElement("div",{className:N.container},r.a.createElement("span",{className:N.dot}),r.a.createElement("span",{className:N.dot}),r.a.createElement("span",{className:N.dot}))}var B=a(17),S=Object(n.memo)((function(e){var t=e.text,a=e.image,n=e.user,o=e.typing,c=e.hasAvatar;return r.a.createElement("div",{className:B.message,style:{marginLeft:c?"none":"60px"}},c&&r.a.createElement(O,{name:p.name,img:p.avatar}),t&&r.a.createElement(d,{message:t,user:n}),a&&r.a.createElement(w,{src:a,alt:"requested",noAvatar:!c}),o&&r.a.createElement(j,null))})),C=a(18),I=a(19),M=Object(n.memo)((function(e){var t=e.texts,a=void 0===t?[]:t,n=e.images,o=void 0===n?[]:n,c=e.user;return r.a.createElement("div",{className:I.group},a.map((function(e,t){return r.a.createElement(S,{key:t,text:e,user:c,hasAvatar:"bot"===c&&0===t})})),o.map((function(e,t){return r.a.createElement(S,{key:t,image:e,user:c,hasAvatar:"bot"===c&&0===t})})))}));function T(e){var t=e.log,a=e.typing,o=e.noSuggestions;Object(n.useEffect)((function(){return c.current.scrollIntoView({behavior:"smooth"})}));var c=Object(n.useRef)();return r.a.createElement("div",{className:C.logs,style:{height:o?"calc(70vh + 50px)":"70vh"}},t.map((function(e,t){var a=e.texts,n=e.images,o=e.user;return r.a.createElement(M,{texts:a,images:n,user:o,key:t})})),a&&r.a.createElement(S,{key:"typing",user:"bot",typing:!0,hasAvatar:!0}),r.a.createElement("div",{ref:c}))}var R=a(9);function A(e){var t=e.suggestionText,a=e.onClick;return r.a.createElement("div",{className:R.suggestion,onClick:function(){return a(t)}},r.a.createElement("p",{className:R.suggestionMessage},t))}var F=a(20),G=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return r.a.createElement("div",{className:F.suggestionBox,style:{display:0===t.length?"none":"flex"}},t.map((function(e,t){return r.a.createElement(A,{suggestionText:e,key:t,onClick:a})})))})),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1],c=function(e){return o(e.target.value)},i=function(){return o("")};return[r,c,i]},U=a(5);function q(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,o=L(),c=Object(s.a)(o,3),i=c[0],l=c[1],u=c[2],m=function(){""!==i.trim()&&t(i),u()};return r.a.createElement("div",{className:U.form},r.a.createElement("div",{className:U.input},r.a.createElement("textarea",{autoFocus:!0,rows:"1",value:i,disabled:a,onChange:function(e){return"insertLineBreak"===e.nativeEvent.inputType?m():l(e)},placeholder:a?"Say Something ...":"Type a message"})),r.a.createElement("div",{className:U.formButtons},r.a.createElement(g,{name:"arrow-right",onClick:m,marginRight:!0}),r.a.createElement(g,{name:"".concat(a?"microphone":"microphone-slash"),onClick:n})))}var z=a(10),D=a.n(z),H=a(21),J=a(22),K=a.n(J),V=function(e){return e[Math.floor(Math.random()*e.length)]},W=["i think something is wrong. could you try again later?","i cant contact the server. could you try again later?","it seems like something is wrong. could you try again later?","something is wrong. could you try again later?"],X="https://api.dialogflow.com/v1/query?v=20150910",Y="38578c4faf424691a4540abffe6a1ec8",P="izqGQrUr7FItDPD1XVKuVxGbiDBRNspylOSwfNfA",Q="<br>",Z="<img>",$="<ar>",ee=function(){var e=Object(H.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,K.a.post({url:X,contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer ".concat(Y)},data:JSON.stringify({query:t,lang:"en",sessionId:P})}).then((function(e){var t=(e=e.result.fulfillment.speech).split(new RegExp($));e=t[0],a.suggestions=t.splice(1);var n=e.split(new RegExp(Q));e=n[0],a.texts=n.splice(1),a.images=e.split(new RegExp(Z)).splice(1)})).catch((function(){return a.texts=[V(W)]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=a(25),ae=[{texts:["".concat(V(["hello","hey","hey there","hello there"]),", ").concat(V(["my name is","i am"])," ").concat(p.name," ! what would you like to know about?")],user:"bot"}],ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(n.useState)(ae||e),a=Object(s.a)(t,2),r=a[0],o=a[1],c=function(e,t){return o((function(a){return[].concat(Object(te.a)(a),[{texts:e.texts,images:e.images,user:t}])}))};return[r,c]},re={volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"},oe=a(23);function ce(e){var t=e.open,a=e.toggleChatBox,o=new u.a,c=new window.webkitSpeechRecognition;o.init(re).catch((function(e){return console.error("An error occured while initializing Speech : ",e)})),c.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;I(t),y()};var l=ne(),m=Object(s.a)(l,2),g=m[0],p=m[1],h=Object(n.useState)([]),f=Object(s.a)(h,2),d=f[0],_=f[1],x=i(),b=Object(s.a)(x,2),E=b[0],y=b[1],w=Object(n.useState)(!1),k=Object(s.a)(w,2),O=k[0],N=k[1],j=i(!0),B=Object(s.a)(j,2),S=B[0],C=B[1];Object(n.useEffect)(o.cancel,[S]),Object(n.useEffect)((function(){return E?c.start():c.stop()}),[E,c]);var I=function(e){ee(e).then(M),p({texts:[e]},"user"),N(!0)},M=function(e){_(e.suggestions),p(e,"bot"),N(!1)};return r.a.createElement("div",{className:oe.chatBox,style:{display:t?"block":"none"}},r.a.createElement(v,{toggleChatBox:a,speechOutput:S,toggleSpeechOutput:C}),r.a.createElement(T,{log:g,typing:O,noSuggestions:0===d.length}),r.a.createElement(G,{suggestions:d,handleSubmit:I}),r.a.createElement(q,{speechInput:E,toggleSpeechInput:y,handleSubmit:I}))}var se=a(24);function ie(e){var t=e.toggleChatBox;return r.a.createElement("div",{className:se.chatButton,onClick:t},r.a.createElement(g,{name:"comments",disableHover:!0}))}var le=function(){var e=i(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{toggleChatBox:n,open:a}),r.a.createElement(ie,{toggleChatBox:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[26,1,2]]]);
//# sourceMappingURL=main.ed1cc3bb.chunk.js.map