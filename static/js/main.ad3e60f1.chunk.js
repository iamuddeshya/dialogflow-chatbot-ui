(window["webpackJsonpchat-bot"]=window["webpackJsonpchat-bot"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"TypingIndicator_container__2XX_d",dot:"TypingIndicator_dot__1BQY8",wave:"TypingIndicator_wave__239yR"}},function(e,t,a){e.exports={chatForm:"Form_chatForm__2AxI0",chatInput:"Form_chatInput__2nX02",chatFormButtons:"Form_chatFormButtons__QVP8R"}},function(e,t,a){e.exports={chatBoxHeader:"Header_chatBoxHeader__16r-Z",chatBotName:"Header_chatBotName__297om"}},function(e,t,a){e.exports={text:"Text_text__3mQMw",bot:"Text_bot__sjNxO",self:"Text_self__1A19Q"}},function(e,t,a){e.exports={icon:"Icon_icon__3T9-N",iconMargin:"Icon_iconMargin__2UzjK"}},,function(e,t,a){e.exports={chatBoxContent:"Log_chatBoxContent__-oVjb",chatLogs:"Log_chatLogs__1h29_"}},function(e,t,a){e.exports={suggestion:"Suggestion_suggestion__1jQiU"}},,,,function(e,t,a){e.exports={chatButton:"ChatButton_chatButton__skEXu"}},,,function(e,t,a){e.exports={avatar:"Avatar_avatar__1dfnH"}},function(e,t,a){e.exports={image:"Image_image__3We8l"}},function(e,t,a){e.exports={message:"Message_message__35BHq"}},function(e,t,a){e.exports={suggestionContainer:"Suggestions_suggestionContainer__3JJoG"}},function(e,t,a){e.exports={chatBox:"ChatBox_chatBox__2Nh-K"}},,function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),c=a.n(r),i=(a(27),a(1)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],r=a[1],c=function(){return r((function(e){return!e}))};return[o,c]},u=(a(11),a(6));function l(e){var t=e.type,a=void 0===t?"fas":t,n=e.name,r=e.onClick,c=e.marginRight;return o.a.createElement("i",{className:"".concat(a," fa-").concat(n," ").concat(u.icon," ").concat(c&&u.iconMargin),onClick:r})}var m=a(13),g=a.n(m);function h(e){var t=e.toggleChatBox;return o.a.createElement("div",{className:g.a.chatButton,onClick:t},o.a.createElement(l,{name:"comments"}))}var f=a(7),p=a(21),v={name:"natalie",avatar:"https://i.ibb.co/cDCL67q/bot.png"},d=function(e){return e[Math.floor(Math.random()*e.length)]},_={text:"".concat(d(["hello","hey","hey there","hello there"]),", ").concat(d(["my name is","i am"])," ").concat(v.name," ! what would you like to know about?"),user:"bot"},b=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Object(n.useState)([_]||!1),t=Object(i.a)(e,2),a=t[0],o=t[1],r=function(e,t,a){return o((function(n){var o;return[].concat(Object(p.a)(n),[(o={},Object(f.a)(o,e,t),Object(f.a)(o,"user",a),o)])}))};return[a,r]},x=a(14),E=a.n(x),y=a(15),w=a.n(y),B=a(4);function N(e){var t=e.toggleChatBox,a=e.speechOutput,n=e.toggleSpeechOutput;return o.a.createElement("div",{className:B.chatBoxHeader},o.a.createElement("h4",{className:B.chatBotName},v.name),o.a.createElement("div",{className:B.icons},o.a.createElement(l,{name:"".concat(a?"volume-up":"volume-mute"),onClick:n,marginRight:!0}),o.a.createElement(l,{name:"minus",onClick:t,marginRight:!0})))}var O=a(2);function j(){return o.a.createElement("div",{className:O.container},o.a.createElement("span",{className:O.dot}),o.a.createElement("span",{className:O.dot}),o.a.createElement("span",{className:O.dot}))}var k=a(16);function C(e){var t=e.name,a=e.img;return o.a.createElement("div",{className:k.avatar},o.a.createElement("img",{src:a,alt:"".concat(t," avatar")}))}var S=a(5);function I(e){var t=e.message,a=e.user;return o.a.createElement("p",{className:"".concat(S.text," ").concat("bot"===a?S.bot:S.self)},t)}var T=a(17);function F(e){var t=e.src,a=e.alt;return o.a.createElement("img",{className:T.image,src:t,alt:a})}var R=a(18),M=Object(n.memo)((function(e){var t=e.text,a=void 0===t?"":t,n=e.image,r=e.user,c=e.typing;return o.a.createElement("div",{className:R.message},"bot"===r&&o.a.createElement(C,{name:v.name,img:v.avatar}),a&&o.a.createElement(I,{message:a,user:r}),n&&o.a.createElement(F,{src:n,alt:"requested"}),c&&o.a.createElement(j,null))})),H=a(8);function L(e){var t=e.log,a=e.typing;Object(n.useEffect)((function(){return r.current.scrollIntoView({behavior:"smooth"})}));var r=Object(n.useRef)();return o.a.createElement("div",{className:H.chatBoxContent},o.a.createElement("div",{className:H.chatLogs},t.map((function(e,t){var a=e.text,n=e.user,r=e.image;return o.a.createElement(M,{key:t,text:a,user:n,image:r})})),a&&o.a.createElement(M,{key:"typing",user:"bot",typing:!0}),o.a.createElement("div",{ref:r})))}var q=a(9);function A(e){var t=e.suggestionText,a=e.onClick;return o.a.createElement("div",{className:q.suggestion,onClick:function(){return a(t)}},o.a.createElement("p",{className:q.suggestionMessage},t))}var Q=a(19),G=Object(n.memo)((function(e){var t=e.suggestions,a=e.handleSubmit;return o.a.createElement("div",{className:Q.suggestionContainer},t.map((function(e,t){return o.a.createElement(A,{suggestionText:e,key:t,onClick:a})})))})),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],r=a[1],c=function(e){return r(e.target.value)},s=function(){return r("")};return[o,c,s]},V=a(3),X=a.n(V);function z(e){var t=e.handleSubmit,a=e.speechInput,n=e.toggleSpeechInput,r=J(),c=Object(i.a)(r,3),s=c[0],u=c[1],m=c[2];function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;""!==s.trim()&&t(e),m()}return o.a.createElement("div",{className:X.a.chatForm},o.a.createElement("div",{className:X.a.chatInput},o.a.createElement("textarea",{autoFocus:!0,rows:"1",value:s,"data-min-rows":"1",disabled:a,onChange:function(e){"insertLineBreak"===e.nativeEvent.inputType?g():u(e)},className:X.a.input,placeholder:a?"Say Something ...":"Type a message"})),o.a.createElement("div",{className:X.a.chatFormButtons},o.a.createElement(l,{name:"arrow-right",onClick:function(){return g(s)},marginRight:!0}),o.a.createElement(l,{name:"".concat(a?"microphone":"microphone-slash"),onClick:n})))}var D={url:"https://api.dialogflow.com/v1/query?v=20150910",accessToken:"38578c4faf424691a4540abffe6a1ec8",sessionId:"izqGQrUr7FItDPD1XVKuVxGbiDBRNspylOSwfNfA"},K={volume:1,lang:"en-GB",rate:1,pitch:1,voice:"Google UK English Female"},U=["i think something is wrong. could you try again later?","i cant contact the server. could you try again later?","it seems like something is wrong. could you try again later?","something is wrong. could you try again later?"],W=a(20);function P(e){var t=e.open,a=e.toggleChatBox,r=new w.a,c=new window.webkitSpeechRecognition;r.init(K).catch((function(e){return console.error("An error occured while initializing Speech : ",e)})),c.onresult=function(e){for(var t="",a=e.resultIndex;a<e.results.length;++a)t+=e.results[a][0].transcript;H(t),R("text",t,"user"),B()};var u=b(),l=Object(i.a)(u,2),m=l[0],g=l[1],h=Object(n.useState)([]),f=Object(i.a)(h,2),p=f[0],v=f[1],_=s(),x=Object(i.a)(_,2),y=x[0],B=x[1],O=Object(n.useState)(!1),j=Object(i.a)(O,2),k=j[0],C=j[1],S=s(!0),I=Object(i.a)(S,2),T=I[0],F=I[1];Object(n.useEffect)(r.cancel,[T]),Object(n.useEffect)((function(){return y?c.start():c.stop()}),[y]);var R=function(e,t,a){"bot"===a&&(C(!1),T&&"image"!==e&&r.speak({text:t})),g(e,t,a)},M=function(e){H(e),R("text",e,"user"),C(!0)},H=function(e){var t=D.url,a=D.accessToken,n=D.sessionId;E.a.post({url:t,contentType:"application/json; charset=utf-8",dataType:"json",headers:{Authorization:"Bearer ".concat(a)},data:JSON.stringify({query:e,lang:"en",sessionId:n})}).then((function(e){return q(e.result.fulfillment.speech)})).catch((function(){return R("text",d(U),"bot")}))},q=function(e){e.includes("<ar>")?A(e):e.includes("<br>")?Q(e):e.includes("<img>")?J(e):R("text",e,"bot")},A=function(e){Q(e.split(/<ar>/)[0]),v(e.split(/<ar>/).splice(1))},Q=function(e){e.includes("<img>")&&J(e.split(/<br>/)[0]);var t=e.split(/<br>/).splice(1),a=!0,n=!1,o=void 0;try{for(var r,c=t[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var i=r.value;R("text",i,"bot")}}catch(s){n=!0,o=s}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}},J=function(e){return R("image",e.split(/<img>/)[1],"bot")};return o.a.createElement("div",{className:W.chatBox,style:{display:t?"block":"none"}},o.a.createElement(N,{toggleChatBox:a,speechOutput:T,toggleSpeechOutput:F}),o.a.createElement(L,{log:m,typing:k}),o.a.createElement(G,{suggestions:p,handleSubmit:M}),o.a.createElement(z,{speechInput:y,toggleSpeechInput:B,handleSubmit:M}))}var Y=function(){var e=s(!0),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{toggleChatBox:n}),o.a.createElement(P,{toggleChatBox:n,open:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[22,1,2]]]);
//# sourceMappingURL=main.ad3e60f1.chunk.js.map